
if [[ -z $model ]]; then
    echo "\$model is not specified"
    exit
fi
echo "model is $model"

if [[ -z $ckpt_list ]]; then
    if [[ $model == "0.1b" ]]; then
        ckpt_list=(2400 5000 7400 10000 14000 20000 24000 30000 34000 40000 44000 50000 54000 60000 64000 70000 74000 80000 84000 90000 94000 100000 104000 110000 114000 120000 124000 130000)
    elif [[ $model == "0.1b_relu" ]]; then
        ckpt_list=(2500 5000 7500 10000 15000 20000 25000 30000 35000 40000 45000 50000 55000 60000 65000 70000 75000 80000 85000 90000 95000 100000 105000 110000 115000 120000 125000 130000)
    elif [[ $model == "0.1b_relu_fit-fix" ]]; then
        ckpt_list=(5000 10000 15000 20000 25000 30000 35000 40000 45000 50000 55000 60000 65000 70000 75000 80000 85000 90000 95000 100000 105000 110000 115000 120000 125000 130000)
    elif [[ $model == "0.1b_relu2" ]]; then
        ckpt_list=(5000 10000 15000 20000 25000 30000 35000 40000 45000 50000 55000 60000 65000 70000 75000 80000 85000 90000 95000 100000 105000 110000 115000 120000 125000 130000)
    elif [[ $model == "0.2b" ]]; then
        ckpt_list=(15000 30000 45000 60000 76000 92000 104000 120000 132000 148000 164000 180000 196000 208000 224000 240000 256000 268000 284000 300000 316000 328000 344000 360000 376000 392000 404000 420000 436000 448000 464000 480000 490740)
    elif [[ $model == "0.2b_relu" ]]; then
        ckpt_list=(5000 10000 15000 20000 25000 30000 35000 40000 45000 50000 55000 60000 65000 70000 75000 80000 85000 90000 95000 100000 105000 110000 115000 120000 125000 130000 135000 140000 145000 150000)
    elif [[ $model == "0.2b_relu2" ]]; then
        ckpt_list=(5000 10000 15000 20000 25000 30000 35000 40000 45000 50000 55000 60000 65000 70000 75000 80000 85000 90000 95000 100000 105000 110000 115000 120000 125000 130000 135000 140000 145000 150000)

    # these are useless
    elif [[ $model == "0.4b" ]]; then
        ckpt_list=(30000 60000 90000 120000 150000 180000 210000 240000 270000 300000 330000 360000 390000 420000 450000 480000 510000 540000 570000 600000 630000 660000 690000 720000 750000 780000 810000 840000 853440)
    elif [[ $model == "0.4b_relu" ]]; then
        ckpt_list=(5000 10000 15000 20000 25000 30000 35000 40000 45000 50000 55000 60000 65000 70000 75000 80000 85000 90000 95000 100000 105000 110000 115000 120000 125000 130000 135000 140000 145000 150000 155000 160000)
    elif [[ $model == "0.4b-v2" ]]; then
        ckpt_list=(5000 10000 15000 20000 25000 30000 35000 40000 45000 50000 55000 60000 65000 70000 75000)
    elif [[ $model == "0.4b-v2_relu" ]]; then
        ckpt_list=(5000 10000 15000 20000 25000 30000 35000 40000 45000 50000 55000 60000 65000 70000 75000 80000 85000 90000 95000 100000 105000 110000 115000 120000 125000 130000 135000 140000 145000 150000 155000 160000)
    elif [[ $model == "0.4b-v3_relu" ]]; then
        ckpt_list=(5000 10000 15000 20000 25000 30000)
    elif [[ $model == "0.4b-28l-1152d_relu" ]]; then
        ckpt_list=(5000 10000 15000 20000 25000 30000 35000 40000 45000)
    elif [[ $model == "0.4b-34l-1024d_relu_fit-fix" ]]; then
        ckpt_list=(5000 10000 15000 20000 25000 30000 35000 40000 45000 50000 55000 60000 65000 70000 75000 80000 85000 90000 95000 100000)
    elif [[ $model == "0.4b_relu_fit-fix" ]]; then
        ckpt_list=(5000 10000 15000 20000 25000 30000 35000 40000 45000 50000 55000 60000 65000 70000 75000 80000 85000 90000)
    elif [[ $model == "0.4b-28l-1152d_relu_fit-fix" ]]; then
        ckpt_list=(5000 10000 15000 20000 25000 30000 35000 40000 45000 50000 55000 60000 65000 70000 75000 80000 85000 90000 95000 100000 105000 110000 115000 120000 125000 130000 135000 140000 145000 150000 155000 160000)
    # end

    # batch size change to 192
    elif [[ $model == "0.4b-v3_relu_fit-fix" ]]; then
        ckpt_list=(5000 10000 15000 20000 25000 30000 35000 40000 45000 50000 55000 60000 65000 70000 75000 80000 85000 90000 95000 100000 105000 110000 115000 120000 125000 130000 135000 140000 145000 150000 155000 160000 165000 170000 175000 180000 185000 190000 195000 200000)
    elif [[ $model == "0.4b-v3_silu_fit-fix" ]]; then
        ckpt_list=(5000 10000 15000 20000 25000 30000 35000 40000 45000 50000 55000 60000 65000 70000 75000 80000 85000 90000 95000 100000 105000 110000 115000 120000 125000 130000 135000 140000 145000 150000 155000 160000 165000 170000 175000 180000 185000 190000 195000 200000)
    # end

    # 0.04b part
    elif [[ $model == "0.04b_relu_fit-fix" ]]; then
        ckpt_list=(5000 10000 15000 20000 25000 30000 35000 40000 45000 50000 55000 60000 65000 70000 75000 80000 85000 90000 95000 100000)
    elif [[ $model == "0.04b_silu_fit-fix" ]]; then
        ckpt_list=(5000 10000 15000 20000 25000 30000 35000 40000 45000 50000 55000 60000 65000 70000 75000 80000 85000 90000 95000 100000)
    # end
    
    elif [[ $model == "0.8b_silu_fit-fix" ]]; then
        ckpt_list=(10000 20000 30000 40000 50000 60000 70000 80000 90000 100000 110000 120000 130000 140000 150000 160000 170000 180000 190000 200000 210000 220000 230000 240000 250000 260000 270000 280000 290000 300000)
    elif [[ $model == "0.8b_relu" ]]; then
        ckpt_list=(20000 40000 60000 80000 100000 120000 140000 160000 180000 200000 220000 240000 260000 280000 300000 320000 340000 360000 380000 400000 420000 440000 460000 480000)
    elif [[ $model == "1.2b_relu_fit" ]]; then
        ckpt_list=(10000 20000 30000 40000 50000 60000 70000 80000 90000 100000 110000 120000 130000 140000 150000 160000 170000 180000 190000 200000 210000 220000 230000 240000 250000 260000 270000 280000 290000 300000 310000 320000 330000 340000 350000 360000)
    #elif [[ $model == "1.2b_silu" ]]; then
    #    ckpt_list=(4000 8000 10000 14000 18000 20000 24000 28000 30000 40000 50000 60000 70000 80000 90000 100000 110000 120000 130000 140000 150000 160000 170000 180000 190000 200000 210000 220000 230000 240000 250000 260000 270000)
    elif [[ $model == "1.2b_silu_fit-fix" ]]; then
        ckpt_list=(4000 8000 10000 14000 18000 20000 24000 28000 30000 40000 50000 60000 70000 80000 90000 100000 110000 120000 130000 140000 150000 160000 170000 180000 190000 200000 210000 220000 230000 240000 250000 260000 270000 280000 290000 300000 310000 320000 330000)

    # width / depth
    elif [[ $model == "0.1b-256_relu_fit-fix" ]]; then
        ckpt_list=(5000 10000 15000 20000 25000 30000 35000 40000 45000 50000 55000 60000 65000 70000 75000 80000 85000 90000 95000 100000 105000 110000)
    elif [[ $model == "0.1b-384_relu_fit-fix" ]]; then
        ckpt_list=(5000 10000 15000 20000 25000 30000 35000 40000 45000 50000 55000 60000 65000 70000 75000 80000 85000 90000 95000 100000 105000 110000 115000 120000 125000 130000)
    elif [[ $model == "0.1b-512_relu_fit-fix" ]]; then
        ckpt_list=(5000 10000 15000 20000 25000 30000 35000 40000 45000 50000 55000 60000 65000 70000 75000 80000 85000 90000 95000 100000 105000 110000 115000 120000 125000 130000)
    elif [[ $model == "0.1b-768_relu_fit-fix" ]]; then
        ckpt_list=(5000 10000 15000 20000 25000 30000 35000 40000 45000 50000 55000 60000 65000 70000 75000 80000 85000 90000 95000 100000 105000 110000 115000 120000 125000 130000)
    elif [[ $model == "0.1b-1024_relu_fit-fix" ]]; then
        ckpt_list=(5000 10000 15000 20000 25000 30000 35000 40000 45000 50000 55000 60000 65000 70000 75000 80000 85000 90000 95000 100000 105000 110000 115000 120000 125000 130000)
    elif [[ $model == "0.1b-1536_relu_fit-fix" ]]; then
        ckpt_list=(5000 10000 15000 20000 25000 30000 35000 40000 45000 50000 55000 60000 65000 70000 75000 80000 85000 90000 95000 100000 105000 110000 115000 120000 125000 130000)
    elif [[ $model == "0.1b-2048_relu_fit-fix" ]]; then
        ckpt_list=(5000 10000 15000 20000 25000 30000 35000 40000 45000 50000 55000 60000 65000 70000 75000 80000 85000 90000 95000 100000 105000 110000 115000 120000 125000 130000)
    elif [[ $model == "0.1b-896_relu_fit-fix" ]]; then
        ckpt_list=(5000 10000 15000 20000 25000 30000 35000 40000 45000 50000 55000 60000 65000 70000 75000 80000 85000 90000 95000 100000 105000 110000 115000 120000 125000 130000)
    elif [[ $model == "0.1b-1152_relu_fit-fix" ]]; then
        ckpt_list=(5000 10000 15000 20000 25000 30000 35000 40000 45000 50000 55000 60000 65000 70000 75000 80000 85000 90000 95000 100000 105000 110000 115000 120000 125000 130000)
    elif [[ $model == "0.1b-1280_relu_fit-fix" ]]; then
        ckpt_list=(5000 10000 15000 20000 25000 30000 35000 40000 45000 50000 55000 60000 65000 70000 75000 80000 85000 90000 95000 100000 105000 110000 115000 120000 125000 130000)
    elif [[ $model == "0.1b-1408_relu_fit-fix" ]]; then
        ckpt_list=(5000 10000 15000 20000 25000 30000 35000 40000 45000 50000 55000 60000 65000 70000 75000 80000 85000 90000 95000 100000 105000 110000 115000 120000 125000 130000)
    elif [[ $model == "0.1b-1792_relu_fit-fix" ]]; then
        ckpt_list=(5000 10000 15000 20000 25000 30000 35000 40000 45000 50000 55000 60000 65000 70000 75000 80000 85000 90000 95000 100000 105000 110000 115000 120000 125000 130000)
    fi
else
    IFS=',' read -r -a ckpt_list <<< "$ckpt_list"
fi
echo "checkpoints' list is ${ckpt_list[@]}"
